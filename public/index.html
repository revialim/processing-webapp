<html>
<head>
<title> Processing Web App </title>
<script src="./processing.js"></script>
</head>
<body>
<h1> Processing Web App </h1>

<h2> Cube </h2>	
    
<canvas id="testcanvas"></canvas>
    
<script id="script1" type="text/javascript">
    // Attaching js code to the canvas by using a sketch object
    var sketch = new Processing.Sketch();
    // Box Variables
    var boxX = 100;
    var boxY = 100;
    var cubeSize = 90;
    var rotX = 0.5;
    var rotY = 0.5;
    
    // define 3D context
    sketch.use3DContext = true;
    // attach function (also, can be specified as the single parameter 
    // in the Processing.Sketch object constructor)
    sketch.attachFunction = function(processing) {
        
        processing.setup = function() {
            processing.size(200, 200, processing.P3D);
            processing.fill(8);
            processing.stroke(200);
            processing.strokeWeight(2);
        };

        processing.draw = function() {
            processing.background(240);
            //draw a 3d box
            processing.translate(boxX, boxY, 0); 
            processing.rotateY(rotY);
            processing.rotateX(rotX);
            processing.box(cubeSize);
        };
        
        // mouse event
        
        processing.mouseDragged = function() {
            var rate = 0.01;
            rotX += (processing.pmouseY-processing.mouseY) * rate;
            rotY += (processing.mouseX-processing.pmouseX) * rate;
        };
        
    };
    
    function setValue(elem, i) {
        if(elem.id === "boxPosX") {
            boxX = i;
        } else if(elem.id === "boxPosY") {
            boxY = i;
        } else if (elem.id === "cubeSize") {
            cubeSize = i;
        } else if (elem.id === "rotationX") {
            rotX = i;
        } else if (elem.id === "rotationY") {
            rotY = i;
        }
    }
    
    // attaching the sketchProc function to the canvas
    var canvas = document.getElementById("testcanvas");
    var p = new Processing(canvas, sketch);

</script>

    <div>x-coordinate:</div>
    <input type="range" id="boxPosX" min="0" max="200" oninput="setValue(this, this.value);" onchange="setValue(this, this.value);">
    <div>y-coordinate:</div>
    <input type="range" id="boxPosY" min="0" max="200" oninput="setValue(this, this.value);" onchange="setValue(this, this.value);">
    <div>cube size:</div>
    <input type="range" id="cubeSize" min="10" max="180" oninput="setValue(this, this.value);" onchange="setValue(this, this.value);">
    <div>rotation x:</div>
    <input type="range" id="rotationX" min="0" max="6.3" step="0.01" oninput="setValue(this, this.value);" onchange="setValue(this, this.value);">
    <div>rotation y: </div>
    <input type="range" id="rotationY" min="0" max="6.3" step="0.01" oninput="setValue(this, this.value);" onchange="setValue(this, this.value);">
    
 
</body>
</html>